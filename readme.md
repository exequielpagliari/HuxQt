# Hux
Hux is a WYSIAWYG ("What You See Is (Almost) What You Get") terminal script editor for [Aleph One](https://alephone.lhowon.org/), developed using [Qt](https://www.qt.io/). The GUI allows users to create, edit, and preview terminals in any AO-compatible scenario, with controls provided for image and text alignment, formatting, etc. 

All necessary operations can be done through the tool, minimizing the risk of errors caused by incorrect syntax, and reducing the time cost of creating/editing terminals.

The app was developed using Qt version 5.12.9, but it should be compatible with newer versions.

_NOTE: Hux provides a close, but not 1:1 representation of Aleph One's terminal rendering. All scripting content is preserved, but there can be small differences in the displayed result (e.g line wrapping)_

## Getting started

### Scenario Editor

This is the main window that is first displayed when the app is loaded. The left side of the window shows the *Scenario Browser* and an information table for the currently selected terminal. The right side shows a *Screen Browser* for the selected terminal, a table containing information about the currently selected screen, and a terminal preview display.

#### Scenario Browser

Each level in the scenario is represented by a folder. Double-clicking a level will list the terminals contained within said level. Clicking on a terminal will show its contents in the *Screen Browser*. To return to the main scenario view, use the "up" button above the *Scenario Browser*.

#### Screen Browser

Every terminal's screens are split into the "UNFINISHED" and "FINISHED" sections. Clicking on any screen item will show its information and render its preview on the display. The buttons under the display can also be used to navigate between the selected terminal's screens.

### Loading Scenarios

Hux uses split folders generated by [Atque](https://sourceforge.net/projects/igniferroque/) to load the terminal data. Changes made to the terminal scripts will need to be merged again before they can be tested in-game.

To load a scenario, simply click _File -> Open Scenario_ and select the root directory of a split scenario generated by Atque. The scenario browser will display all the levels that have valid terminal script files.

*NOTE: make sure the split folder also has a valid "Resources" folder!*

### Editing Scenarios

Opening a level allows users to add, move, and remove the terminals within it.

- Add and remove is done via the buttons under the *Scenario Browser* view. 
- Reordering terminals is done via drag & drop (only possible within a level)
  - *NOTE: changing terminal order will automatically change the terminal IDs, which can invalidate references in the map data!*
- Terminals can be copy & pasted within and between levels. To copy selected terminals, right-click and select "Copy", then right-click again in the desired location and select "Paste".

- Double-clicking a terminal in the *Scenario browser* opens a *Terminal Editor* window, which allows users to edit the terminal contents.

### Terminal Editor

Terminals can be edited via the *Terminal Editor* window, which is opened when a terminal is double-clicked in the *Scenario Browser*. The left side of the window shows controls for editing terminal attributes (i.e teleport info) and the *Screen browser*, which can be used to view and modify the screens within the terminal. The right side contains an editor view where the screen contents and metadata can be edited, along with a preview display for the currently edited screen.

- The *Screen Browser* contains two folders, corresponding to the "UNFINISHED" and "FINISHED" screen groups. Double-click a folder to view and edit its contents.
- Editing the screen roster is similar to editing levels in the *Scenario Browser*:
  - Add or remove screens using the buttons underneath the browser.
  - Move screens using drag & drop.
  - Copy & paste selected screens using the right-click context menu.
- To edit a screen, select it in the Screen Browser, which will update the screen editor view and the preview display.
- Once the user is done editing, they can close the window using "OK" (which will automatically save the changes to the terminal)

### Editing Screens

Once a screen is selected in the *Screen Browser*, the editor view will be updated with its contents, and the preview for the screen will be shown in the display. 

Any changes made to the screen contents will automatically update the preview.

If a screen's text content exceeds the line limit for a single page, the preview display will show a page counter. The counter's value corresponds to the (estimated) number of pages into which the engine will break up the text.

- Previews for the page breaking is currently not yet implemented. Users are advised to not let the text for one page exceed the limit, as this allows for less precise control over the text layout.
- For more details on the syntax and terminal scripting logic, consult the Marathon Infinity manual.

### Saving Scenarios

Click _File -> Save Scenario_, which opens the Export Dialog. This will list all the levels and allows the user to preview the exported terminal script. Double-clicking a level will open a tab with the text that will be used to overwrite any existing terminal script.

The user can also be prompted to save when exiting (this will skip the above steps).

## License

See [LICENSE](https://github.com/janos-ijgyarto/HuxQt/blob/master/LICENSE) file.

## Useful Links

- TODO: a link to the relevant manual for AO terminal scripting (e.g the Infinity manual)